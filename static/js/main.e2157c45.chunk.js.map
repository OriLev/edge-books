{"version":3,"sources":["components/StoreProvider.js","utils/theme.js","components/Theme/ThemeProvider.js","components/Icons/Github.js","components/Toolbar/GithubLinkButton.js","utils/browser.js","components/Toolbar/Title.js","components/Toolbar/Toolbar.js","components/Layout/Wrapper.js","components/Layout/Bar.js","components/Layout/Content.js","components/BookPage/Header.js","components/BookPage/ImgAdditionForm.js","components/BookPage/BackButton.js","utils/text.js","components/BookPage/ImagesGrid.js","consts/index.js","components/BookPage/BookPage.js","components/BookCard/BookCard.js","components/BookList/BookList.js","components/Body/Body.js","components/App.js","utils/api.js","stores/ViewStore.js","stores/RouterStore.js","stores/DataStore.js","utils/validators.js","stores/ImgAdditionStore.js","stores/AppStore.js","index.js"],"names":["StoreProvider","_ref","store","children","react_default","a","createElement","index_module","view","router","data","imgAddition","defaults","bodyColor","dark","grey","A400","light","palette","primary","blue","secondary","teal","text","getTheme","overrides","arguments","length","undefined","responsiveFontSizes","createMuiTheme","Object","assign","typography","useNextVariants","inject","observer","MuiThemeProvider","theme","type","lightThemeActive","Github","SvgIcon","d","GithubLinkButton","IconButton","color","aria-label","onClick","url","window","open","Icons_Github","withStyles","title","mixins","gutters","flex","classes","Typography","className","variant","noWrap","Fragment","Toolbar_Title","currentPage","Toolbar_GithubLinkButton","StyledWrapper","wrapper","zIndex","height","overflow","position","width","rest","objectWithoutProperties","_ref2","react_event_listener_cjs_default","target","onResize","onScreenResize","appBar","right","left","AppBar","esm_Toolbar_Toolbar","Content","disableGutters","content","toolbar","defaultProps","backgroundColor","background","default","container","padding","spacing","minHeight","display","flexDirection","justifyContent","author","Container","ImgURLInput","styled","Input","cursor","StyledForm","StyledFormControl","FormControl","maxWidth","StyledButton","Button","minWidth","marginTop","maxHeight","bookId","formState","console","log","onSubmit","e","preventDefault","addImage","error","isErrorState","InputLabel","htmlFor","id","value","imgURL","onChange","updateImgURL","FormHelperText","errorMessage","postingInProgress","CircularProgress","size","backButton","top","transitionDelay","concat","transitions","duration","leavingScreen","goBack","fab","icon","ArrowBack_default","label","Fab","replaceImg","imageId","split","slice","join","paddingBottom","gridList","subHeader","textAlign","fontSize","fontStyle","withWidth","images","GridList","cellHeight","cols","isWidthUp","GridListTile","key","style","ListSubheader","component","map","src","alt","CONSTS","API","BASE_URL","ROUTING","SINGLE_BOOK_ROUTE","MISSING_PARAMS_MSG","TOO_MANY_PARAMS_MSG","REGEX","URL_VALIDATION_REGX","RegExp","MESSAGES","INVALID_URL_MESSAGE","POST_IMAGE_FAILED","POST_IMAGE_SUCCESSFUL","NO_IMAGES_FOR_THIS_BOOK","NoImages","bookContainer","paddingTop","paddingRight","paddingLeft","marginBottom","margin","border","borderRadius","alignItems","books","book","getBookById","getBookPhotos","Paper","BookPage_BackButton","goTo","Header","getBookTitle","getBookAuthor","BookPage_ImgAdditionForm","BookPage_ImagesGrid","BookPage_NoImages","CardContent","gutterBottom","align","photos","additionalImages","PlainCard","_ref3","Card","card","BookCard_Content","MediaCard","_ref4","newImage","CardMedia","media","image","textDecoration","&:hover","borderColor","&>div","boxSizing","bottom","BookCard_MediaCard","BookCard_PlainCard","root","flexGrow","paper","listStyle","Grid","item","lg","md","xs","components_BookCard_BookCard","role","Body","_view$currentPage","name","message","state","components_BookList_BookList","components_BookPage_BookPage","getCurrentView","propTypes","PropTypes","shape","isRequired","App","components_StoreProvider","Theme_ThemeProvider","Layout_Wrapper","Layout_Bar","components_Toolbar_Toolbar","Layout_Content","components_Body_Body","fetchData","asyncToGenerator","regenerator_default","mark","_callee","response","wrap","_context","prev","next","fetch","sent","ok","json","abrupt","Error","t0","stop","_x","apply","this","postData","_callee2","options","_context2","method","body","JSON","stringify","mode","headers","Content-Type","_x2","_x3","postNewImage","imageURL","buildPostImageURL","attributes","uri","fecthBookList","pageNumber","bookListQuery","queryString","page[number]","page[size]","include","arrayFormat","buildBooksListURL","fetchBook","buildSingleBookURL","ViewStore","appStore","_this","classCallCheck","showHome","fromPromise","showBook","showError","updateData","autorun","setData","decorate","observable","action","RouterStore","pathname","convertRouteToState","_CONSTS$ROUTING","pageParams","_this$appStore$view","showView","legalLength","displayFunc","route","history","push","setPathname","createBrowserHistory","basename","process","forceRefresh","location","listen","DataStore","rawData","getDataCollection","normalizedData","values","getBookId","_this$getBookRelation","getBookRelationshipData","getAttributeByIdAndType","attribute","relationship","relationships","normalize","_this2","computed","ImgAdditionStore","resetImagePostingStatus","imageAdditionResponse","setTimeout","setImageAdditionResponse","postingSuccessful","resetObservables","setImageAdditionAttempted","resetFormState","newValue","imageAdditionAttempted","isImgURLIllegal","test","shouldShowURLInputError","configure","enforceActions","AppStore","ReactDOM","render","components_App","document","getElementById"],"mappings":"kNAyBeA,EApBO,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,MAAOC,EAAVF,EAAUE,SAAV,OACpBC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEC,KAAMN,EAAMM,KACZC,OAAQP,EAAMO,OACdC,KAAMR,EAAMQ,KACZC,YAAaT,EAAMS,aAElBR,kFCPCS,EAAW,CACfC,UAAW,CACTC,KAAMC,IAAKC,KACXC,MAAOF,IAAK,KAEdG,QAAS,CACPC,QAASC,IACTC,UAAWC,IACXC,KAAM,CACJJ,QAASJ,IAAK,OAkBLS,EAbE,eAACC,EAADC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAa,GAAb,OAAoBG,YAAoBC,YACvDC,OAAOC,OACL,GACAP,EACAb,EACA,CACEqB,WAAY,CACVC,iBAAiB,QCAVC,cAAO,OAAPA,CAAeC,YAnBR,SAAAnC,GAAA,IAAGO,EAAHP,EAAGO,KAAML,EAATF,EAASE,SAAT,OACpBC,EAAAC,EAAAC,cAAC+B,EAAA,EAAD,CAAkBC,MAAOd,EAAS,CAChCN,QAAS,CACPqB,KAAM/B,EAAKgC,iBAAmB,QAAU,WAIzCrC,uBCLUsC,EANA,kBACbrC,EAAAC,EAAAC,cAACoC,EAAA,EAAD,KACEtC,EAAAC,EAAAC,cAAA,QAAMqC,EAAE,+YCUGC,EAVU,kBACvBxC,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CACEC,MAAM,UACNC,aAAW,eACXC,QAAS,kBCHcC,EDGG,4CCF5BC,OAAOC,KAAKF,GADY,IAACA,IDKvB7C,EAAAC,EAAAC,cAAC8C,EAAD,wBEmBWC,cAzBA,SAAAf,GAAK,MAAK,CACvBgB,MAAOvB,OAAOC,OAAO,GAAIM,EAAMiB,OAAOC,UAAW,CAC/CC,KAAM,eAuBKJ,CAnBD,SAAApD,GAAA,IAAGyD,EAAHzD,EAAGyD,QAASJ,EAAZrD,EAAYqD,MAAZ,OACZlD,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CACEC,UAAWF,EAAQJ,MACnBO,QAAQ,KACRf,MAAM,UACNgB,QAAM,GAELR,KCDUnB,cAAO,OAAPA,CAAeC,YAXd,SAAAnC,GAAA,IAAGO,EAAHP,EAAGO,KAAH,OACdJ,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0D,SAAA,KACE3D,EAAAC,EAAAC,cAAC0D,EAAD,CAAOV,MAAO9C,EAAKyD,YAAYX,QAC/BlD,EAAAC,EAAAC,cAAC4D,EAAD,mCCOEC,EAAgBd,YAVP,iBAAO,CACpBe,QAAS,CACPC,OAAQ,EACRC,OAAQ,QACRC,SAAU,OACVC,SAAU,WACVC,MAAO,UAIWpB,CAAmB,SAAApD,GAAA,IAAGyD,EAAHzD,EAAGyD,QAAYgB,EAAf3C,OAAA4C,EAAA,EAAA5C,CAAA9B,EAAA,oBACvCG,EAAAC,EAAAC,cAAA,MAAAyB,OAAAC,OAAA,CAAK4B,UAAWF,EAAQU,SAAaM,MAexBvC,cAAO,OAAPA,CAZC,SAAAyC,GAAA,IAAGzE,EAAHyE,EAAGzE,SAAUK,EAAboE,EAAapE,KAAb,OACdJ,EAAAC,EAAAC,cAAC6D,EAAD,KACGhE,EACDC,EAAAC,EAAAC,cAACuE,EAAAxE,EAAD,CAAeyE,OAAO,SAASC,SAAUvE,EAAKwE,sCCOnC3B,cAxBA,iBAAO,CACpB4B,OAAQ,CACNC,MAAO,EACPC,KAAM,OACNX,SAAU,cAoBCnB,CAbH,SAAApD,GAAA,IAAGyD,EAAHzD,EAAGyD,QAASvD,EAAZF,EAAYE,SAAZ,OACVC,EAAAC,EAAAC,cAAC8E,EAAA,EAAD,CAAWxB,UAAWF,EAAQuB,QAC5B7E,EAAAC,EAAAC,cAAC+E,EAAA,EAAD,KACGlF,MCTDmF,EAAU,SAAArF,GAAA,IAAGyD,EAAHzD,EAAGyD,QAASvD,EAAZF,EAAYE,SAAUoF,EAAtBtF,EAAsBsF,eAAtB,OACdnF,EAAAC,EAAAC,cAAA,QAAMsD,WAAY2B,GAAkB7B,EAAQ8B,SAC1CpF,EAAAC,EAAAC,cAAA,OAAKsD,UAAWF,EAAQ+B,UACvBtF,IAILmF,EAAQI,aAAe,CACrBH,gBAAgB,GASHlC,kBAxBA,SAAAf,GAAK,MAAK,CACvBmD,QAASnD,EAAMiB,OAAOkC,QACtBD,QAASzD,OAAOC,OAAO,GAAIM,EAAMiB,OAAOC,UAAW,CACjDmC,gBAAiBrD,EAAMpB,QAAQ0E,WAAWC,YAqB/BxC,CAAmBiC,qCCMnBjC,cA5BA,SAAAf,GAAK,MAAK,CACvBwD,UAAW,CACTC,QAASzD,EAAM0D,QAAQ,GACvBC,UAAW,QACXC,QAAS,OACTC,cAAe,SACfC,eAAgB,kBAsBL/C,CAjBI,SAAApD,GAAA,IACjByD,EADiBzD,EACjByD,QAASJ,EADQrD,EACRqD,MAAO+C,EADCpG,EACDoG,OADC,OAGjBjG,EAAAC,EAAAC,cAACgG,EAAA,EAAD,CAAW1C,UAAWF,EAAQoC,WAC5B1F,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAYE,QAAQ,KAAKf,MAAM,iBAAiBQ,GAChDlD,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAYE,QAAQ,QAAQf,MAAM,iBAAlC,MACA1C,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAYE,QAAQ,KAAKf,MAAM,iBAAiBuD,qECX9CE,EAAcC,YAAOC,IAAPD,CAAc,CAChC1D,MAAO,QACP4D,OAAQ,YAGJC,EAAaH,YAAO,OAAPA,CAAe,CAChCN,QAAS,OACTC,cAAe,MACf1B,MAAO,MACPwB,UAAW,UAGPW,EAAoBJ,YAAOK,IAAPL,CAAoB,CAC5C/C,KAAM,WACNqD,SAAU,uBAGNC,GAAeP,YAAOQ,IAAPR,CAAe,CAClCS,SAAU,QACVC,UAAW,OACXjB,UAAW,OACXkB,UAAW,SA8CEhF,eAAO,cAAPA,CAAsBC,YA3Cb,SAAAnC,GAAwC,IAArCmH,EAAqCnH,EAArCmH,OAAqBC,EAAgBpH,EAA7BU,YAUjC,OADA2G,QAAQC,IAAI,YAEVnH,EAAAC,EAAAC,cAACqG,EAAD,CAAYa,SANG,SAACC,GAChBA,EAAEC,iBACFL,EAAUM,SAASP,KAKjBhH,EAAAC,EAAAC,cAACsG,EAAD,CAAmBgB,MAAOP,EAAUQ,cAClCzH,EAAAC,EAAAC,cAACwH,EAAA,EAAD,CAAYC,QAAQ,mBAApB,aACA3H,EAAAC,EAAAC,cAACiG,EAAD,CACEyB,GAAG,kBACHC,MAAOZ,EAAUa,OACjBC,SAhBa,SAACV,GACpBH,QAAQC,IAAI,gBAAiBE,EAAE3C,OAAOmD,OACtCZ,EAAUe,aAAaX,EAAE3C,OAAOmD,QAe1B1F,KAAK,SAGL8E,EAAUQ,aACNzH,EAAAC,EAAAC,cAAC+H,EAAA,EAAD,CAAgBL,GAAG,wBAAwBX,EAAUiB,cACrD,MAGRlI,EAAAC,EAAAC,cAACyG,GAAD,CAAcjE,MAAM,YAAYP,KAAK,UAEjC8E,EAAUkB,kBACNnI,EAAAC,EAAAC,cAACkI,EAAA,EAAD,CAAkBC,KAAM,KACxBrI,EAAAC,EAAAC,cAACqD,EAAA,EAAD,qDCxBCN,eApCA,SAAAf,GAAK,MAAK,CACvBoG,WAAY,CACVlE,SAAU,WACVW,KAAM7C,EAAM0D,QAAQ,GACpB2C,IAAKrG,EAAM0D,QAAQ,GACnB4C,gBAAe,GAAAC,OAAKvG,EAAMwG,YAAYC,SAASC,cAAhC,SA+BJ3F,CA3BI,SAAApD,GAEb,IADJyD,EACIzD,EADJyD,QAASuF,EACLhJ,EADKgJ,OAEHC,EAAM,CACVpG,MAAO,YACPc,UAAWF,EAAQgF,WACnBS,KAAM/I,EAAAC,EAAAC,cAAC8I,GAAA/I,EAAD,MACNgJ,MAAO,wBAET,OACEjJ,EAAAC,EAAAC,cAACgJ,GAAA,EAAD,CACEvG,aAAYmG,EAAIG,MAChBzF,UAAWsF,EAAItF,UACfd,MAAOoG,EAAIpG,MACXE,QAAS,kBAAMiG,EAAO,MACtB3F,MAAM,qBAEL4F,EAAIC,gDCnBEI,GAAa,SAACrB,GACzB,IAAMsB,EAAUtB,EAAOuB,MAAM,KAAK,GAAGA,MAAM,IAAIC,MAAM,EAAG,GAAGC,KAAK,IAChE,kCAAAd,OAAmCW,EAAnC,aC0DanG,eA9DA,SAAAf,GAAK,MAAK,CACvBwD,UAAW,CACToB,UAAW5E,EAAM0D,QAAQ,GACzB4D,cAAetH,EAAM0D,QAAQ,IAE/B6D,SAAU,CACRpF,MAAO,QAETqF,UAAW,CACTC,UAAW,OACXC,SAAU,SACVC,UAAW,YAmDA5G,CAAmB6G,eA/Cf,SAAAjK,GAAgC,IAA7ByD,EAA6BzD,EAA7ByD,QAASyG,EAAoBlK,EAApBkK,OAAQ1F,EAAYxE,EAAZwE,MAiBrC,OACErE,EAAAC,EAAAC,cAACgG,EAAA,EAAD,CAAW1C,UAAWF,EAAQoC,WAC5B1F,EAAAC,EAAAC,cAAC8J,GAAA,EAAD,CACEC,WAAW,OACXrE,QAAS,GACTpC,UAAWF,EAAQmG,SACnBS,KArBAC,aAAU,KAAM9F,GACX,EAGL8F,aAAU,KAAM9F,GACX,EAGL8F,aAAU,KAAM9F,GACX,EAGF,GAWHrE,EAAAC,EAAAC,cAACkK,GAAA,EAAD,CAAcC,IAAI,YAAYlF,gBAAc,EAACmF,MAAO,CAAEpG,OAAQ,OAAQG,MAAO,SAC3ErE,EAAAC,EAAAC,cAACqK,GAAA,EAAD,CAAe/G,UAAWF,EAAQoG,UAAWc,UAAU,MAAvD,YAIDT,EAAOU,IAAI,SAAA3C,GAAM,OAChB9H,EAAAC,EAAAC,cAACkK,GAAA,EAAD,CAAcC,IAAKvC,EAAQoC,KAAM,GAC/BlK,EAAAC,EAAAC,cAAA,OAAKwK,IAAKvB,GAAWrB,GAAS6C,IAAK7C,YCtChC8C,GApBA,CACbC,IAAK,CACHC,SAAU,6CAEZC,QAAS,CACPC,kBAAmB,QACnBC,mBAAoB,qCACpBC,oBAAqB,uCAEvBC,MAAO,CACLC,oBAAqB,IAAIC,OAAO,wKAAyK,MAE3MC,SAAU,CACRC,oBAAqB,4BACrBC,kBAAmB,2CACnBC,sBAAuB,4BACvBC,wBAAyB,4DCFfA,GACVd,GADFU,SAAYI,wBA0BRC,GAAW,kBACf3L,EAAAC,EAAAC,cAACgG,EAAA,EAAD,KACElG,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAYE,QAAQ,KAAKf,MAAM,WAC5BgJ,MAkCQ3J,eAAO,OAAQ,SAAfA,CAAyBkB,YA5DzB,SAAAf,GAAK,MAAK,CACvB0J,cAAe,CACbC,WAAY3J,EAAM0D,QAAQ,GAC1BkG,aAAc5J,EAAM0D,QAAQ,GAC5BmG,YAAa7J,EAAM0D,QAAQ,GAC3B4D,cAAetH,EAAM0D,QAAQ,GAC7BoG,aAAc9J,EAAM0D,QAAQ,GAC5BiB,SAAU,MACVhB,UAAW,OACXoG,OAAQ,iBACR9H,SAAU,OACV+H,OAAQ,+BACRC,aAAc,OACdrG,QAAS,OACTC,cAAe,SACfC,eAAgB,aAChBoG,WAAY,SACZhI,SAAU,WACVuF,UAAW,SACX1F,OAAQ,MAyC4BhB,CAAmBjB,YA7B1C,SAAAnC,GAEX,IADJyD,EACIzD,EADJyD,QAAShD,EACLT,EADKS,KAAMD,EACXR,EADWQ,OAAQ2G,EACnBnH,EADmBmH,OAEvB,GAAI1G,EAAK+L,MAAM9K,OAAS,EAAG,CACzB,IAAM+K,EAAOhM,EAAKiM,YAAYvF,GACxB+C,EAASzJ,EAAKkM,cAAcF,GAClC,OACEtM,EAAAC,EAAAC,cAACuM,EAAA,EAAD,CAAOjJ,UAAWF,EAAQsI,cAAepB,UAAU,OACjDxK,EAAAC,EAAAC,cAACwM,GAAD,CAAY7D,OAAQxI,EAAOsM,OAC3B3M,EAAAC,EAAAC,cAAC0M,EAAD,CAAQ1J,MAAO5C,EAAKuM,aAAaP,GAAOrG,OAAQ3F,EAAKwM,cAAcR,KACnEtM,EAAAC,EAAAC,cAAC6M,GAAD,CAAiB/F,OAAQA,IAEvB+C,EAAOxI,OAAS,EACZvB,EAAAC,EAAAC,cAAC8M,GAAD,CAAYjD,OAAQA,IACpB/J,EAAAC,EAAAC,cAAC+M,GAAD,OAKZ,OAAO,iDCEH/H,GAAU,SAAAV,GAAA,IAAGlB,EAAHkB,EAAGlB,QAASgJ,EAAZ9H,EAAY8H,KAAM7I,EAAlBe,EAAkBf,QAAlB,OACdzD,EAAAC,EAAAC,cAACgN,GAAA,EAAD,CAAa1J,UAAWF,EAAQ8B,SAC9BpF,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAY4J,cAAY,EAACC,MAAM,SAAS3J,QAAQ,KAAK+G,UAAU,KAAK9H,MAAmB,UAAZe,EAAsB,cAAgB,iBAC9G6I,EAAKpJ,OAERlD,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAY4J,cAAY,EAAC1J,QAAQ,QAAQ+G,UAAU,IAAI9H,MAAmB,UAAZe,EAAsB,cAAgB,iBACjG6I,EAAKrG,QAGJqG,EAAKe,OAAO9L,OAAS,EACjBvB,EAAAC,EAAAC,cAAA,QAAMsD,UAAWF,EAAQgK,kBAAzB,IAAA7E,OAAgD6D,EAAKe,OAAO9L,OAAS,IACrE,OAKNgM,GAAY,SAAAC,GAAA,IAChBlK,EADgBkK,EAChBlK,QAASgJ,EADOkB,EACPlB,KAAM9B,EADCgD,EACDhD,UAAW5H,EADV4K,EACU5K,QADV,OAGhB5C,EAAAC,EAAAC,cAACuN,GAAA,EAAD,CAAMjK,UAAWF,EAAQoK,KAAMlD,UAAWA,EAAW5H,QAASA,GAC5D5C,EAAAC,EAAAC,cAACyN,GAAD,CAASrB,KAAMA,EAAMhJ,QAASA,EAASG,QAAQ,YAI7CmK,GAAY,SAAAC,GAEZ,IADJvK,EACIuK,EADJvK,QAASgJ,EACLuB,EADKvB,KAAM9B,EACXqD,EADWrD,UAAW5H,EACtBiL,EADsBjL,QAEpBkL,EAAW3E,GAAWmD,EAAKe,OAAO,IACxC,OACErN,EAAAC,EAAAC,cAACuN,GAAA,EAAD,CAAMjK,UAAWF,EAAQoK,KAAMlD,UAAWA,EAAW5H,QAASA,GAC5D5C,EAAAC,EAAAC,cAAC6N,GAAA,EAAD,CACEvK,UAAWF,EAAQ0K,MACnBC,MAAOH,EACP5K,MAAOoJ,EAAKpJ,OAEZlD,EAAAC,EAAAC,cAACyN,GAAD,CAASrK,QAASA,EAASgJ,KAAMA,EAAM7I,QAAQ,aA8BxCR,eA5HA,SAAAf,GAAK,MAAK,CACvBwL,KAAM,CACJhH,SAAU,IACVuF,OAAQ,OACR/H,OAAQ,IACRC,SAAU,SACV+H,OAAQ,+BACRC,aAAc,OACdrG,QAAS,OACT1B,SAAU,WACVH,OAAQ,GACRiK,eAAgB,OAChB5H,OAAQ,UACR6H,UAAW,CACTC,YAAa,uBAGjBJ,MAAO,CACL9J,OAAQ,IACRG,MAAO,OACPD,SAAU,WACVH,OAAQ,IACRoK,QAAS,CACP7I,WAAY,uBAGhBJ,QAAS,CACPnB,OAAQ,EACRI,MAAO,OACPiK,UAAW,aACXpK,OAAQ,OACR4B,QAAS,OACTC,cAAe,SACfC,eAAgB,SAChBoG,WAAY,SACZ+B,UAAW,CACT5I,gBAAiB,uBAGrB+H,iBAAkB,CAChBxH,QAAS,OACTE,eAAgB,SAChBoG,WAAY,SACZ/H,MAAO,OACPH,OAAQ,OACRiI,aAAc,MACd5G,gBAAiBrD,EAAMpB,QAAQH,KAAK,KACpCyD,SAAU,WACVU,MAAO,OACPyJ,OAAQ,UA2EGtL,CAvEE,SAAApD,GAAA,IAAGyM,EAAHzM,EAAGyM,KAAShI,EAAZ3C,OAAA4C,EAAA,EAAA5C,CAAA9B,EAAA,iBACfyM,EAAKe,OAAO9L,OAAS,EACjBvB,EAAAC,EAAAC,cAACsO,GAAD7M,OAAAC,OAAA,GAAe0C,EAAf,CAAqBgI,KAAMA,KAC3BtM,EAAAC,EAAAC,cAACuO,GAAD9M,OAAAC,OAAA,GAAe0C,EAAf,CAAqBgI,KAAMA,OCzDzBtB,GAAsBJ,GAAOG,QAA7BC,kBAoCOjJ,eAAO,OAAQ,SAAfA,CAAyBkB,YAlCzB,SAAAf,GAAK,MAAK,CACvBwM,KAAM,CACJC,SAAU,GAEZC,MAAO,CACLjJ,QAAO,GAAA8C,OAAKvG,EAAM0D,QAAQ,GAAnB,MACPqG,OAAQ,OACRvF,SAAU,MAEZhB,UAAW,CACTmJ,UAAW,UAwByB5L,CAAmBjB,YApB1C,SAAAnC,GAAA,IAAGS,EAAHT,EAAGS,KAAMD,EAATR,EAASQ,OAAQiD,EAAjBzD,EAAiByD,QAAjB,OACftD,EAAAC,EAAAC,cAAA,OAAKsD,UAAWF,EAAQoL,MACtB1O,EAAAC,EAAAC,cAACuM,EAAA,EAAD,CAAOjJ,UAAWF,EAAQsL,OACxB5O,EAAAC,EAAAC,cAAC4O,GAAA,EAAD,CAAMpJ,WAAS,EAACE,QAAS,EAAGpC,UAAWF,EAAQoC,UAAW8E,UAAU,MACjElK,EAAK+L,MAAM5B,IAAI,SAAA6B,GAAI,OAClBtM,EAAAC,EAAAC,cAAC4O,GAAA,EAAD,CAAMzE,IAAKiC,EAAK1E,GAAImH,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAAI1E,UAAU,MACvDxK,EAAAC,EAAAC,cAACiP,GAAD,CAAU7C,KAAMA,EAAM9B,UAAU,IAAI4E,KAAK,SAASxM,QAAS,kBAAMvC,EAAOsM,KAAP,GAAAlE,OAAeuC,GAAf,KAAAvC,OAAoC6D,EAAK1E,kBCJhHyH,GAAO,SAAAxP,GAAA,IAAGO,EAAHP,EAAGO,KAAH,OACXJ,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0D,SAAA,KArBqB,SAACvD,GAAS,IAAAkP,EACClP,EAAKyD,YAA7B0L,EADuBD,EACvBC,KAAMjP,EADiBgP,EACjBhP,KAAMkP,EADWF,EACXE,QACpB,GAAIlP,EAAM,CACR,GAAmB,YAAfA,EAAKmP,MACP,OAAOzP,EAAAC,EAAAC,cAAA,uBAET,GAAmB,aAAfI,EAAKmP,MACP,OAAOzP,EAAAC,EAAAC,cAAA,sEAGX,OAAQqP,GACN,IAAK,OACH,OAAOvP,EAAAC,EAAAC,cAACwP,GAAD,MACT,IAAK,YACH,OAAO1P,EAAAC,EAAAC,cAACyP,GAAD,CAAU3I,OAAQ5G,EAAKyD,YAAYmD,SAC5C,QACE,OAAOhH,EAAAC,EAAAC,cAAA,YAAOsP,IAOdI,CAAexP,KAKrBiP,GAAKQ,UAAY,CACfzP,KAAM0P,IAAUC,MAAM,IAAIC,YAGbjO,mBAAO,OAAPA,CAAeC,YAASqN,KCbxBY,GAlBH,SAAApQ,GAAA,IAAGC,EAAHD,EAAGC,MAAH,OACVE,EAAAC,EAAAC,cAACgQ,EAAD,CAAepQ,MAAOA,GACpBE,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0D,SAAA,KACE3D,EAAAC,EAAAC,cAACiQ,EAAD,KACEnQ,EAAAC,EAAAC,cAACkQ,EAAD,KACEpQ,EAAAC,EAAAC,cAACmQ,EAAD,KAAKrQ,EAAAC,EAAAC,cAACoQ,EAAD,OACLtQ,EAAAC,EAAAC,cAACqQ,EAAD,KACEvQ,EAAAC,EAAAC,cAACsQ,GAAD,uFCXJ1F,GAAaF,GAAOC,IAApBC,SAoBF2F,GAAS,eAAA5Q,EAAA8B,OAAA+O,GAAA,EAAA/O,CAAAgP,GAAA1Q,EAAA2Q,KAAG,SAAAC,EAAOhO,GAAP,IAAAiO,EAAA,OAAAH,GAAA1Q,EAAA8Q,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAESC,MAAMtO,GAFf,YAERiO,EAFQE,EAAAI,MAGDC,GAHC,CAAAL,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAICJ,EAASQ,OAJV,cAAAN,EAAAO,OAAA,SAAAP,EAAAI,MAAA,aAMP,IAAII,MAAM,kCANH,cAAAR,EAAAC,KAAA,GAAAD,EAAAS,GAAAT,EAAA,SAAAA,EAAAS,GAAA,yBAAAT,EAAAU,SAAAb,EAAA,kBAAH,gBAAAc,GAAA,OAAA9R,EAAA+R,MAAAC,KAAAvQ,YAAA,GAYTwQ,GAAQ,eAAAtN,EAAA7C,OAAA+O,GAAA,EAAA/O,CAAAgP,GAAA1Q,EAAA2Q,KAAG,SAAAmB,EAAOlP,EAAKvC,GAAZ,IAAA0R,EAAAlB,EAAA,OAAAH,GAAA1Q,EAAA8Q,KAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,cACTc,EAAU,CACdE,OAAQ,OACRC,KAAMC,KAAKC,UAAU/R,GACrBgS,KAAM,UACNC,QAAS,CACPC,eAAgB,6BANLP,EAAAhB,KAAA,EAAAgB,EAAAf,KAAA,EAUUC,MAAMtO,EAAKmP,GAVrB,YAUPlB,EAVOmB,EAAAb,MAWAC,GAXA,CAAAY,EAAAf,KAAA,eAAAe,EAAAf,KAAA,EAYEJ,EAASQ,OAZX,cAAAW,EAAAV,OAAA,SAAAU,EAAAb,MAAA,aAcN,IAAII,MAAM,iCAdJ,cAAAS,EAAAhB,KAAA,GAAAgB,EAAAR,GAAAQ,EAAA,SAAAA,EAAAR,GAAA,yBAAAQ,EAAAP,SAAAK,EAAA,kBAAH,gBAAAU,EAAAC,GAAA,OAAAlO,EAAAoN,MAAAC,KAAAvQ,YAAA,GAoBDqR,GAAe,SAAC3L,EAAQ4L,GACnC,IAAM/P,EAnCkB,SAAAmE,GAAM,SAAAyB,OAAOqC,GAAP,WAAArC,OAAyBzB,EAAzB,yBAmClB6L,CAAkB7L,GAU9B,OAAO8K,GAASjP,EATH,CACXvC,KAAM,CACJ6B,KAAM,SACN2Q,WAAY,CACV5P,MAAO,YACP6P,IAAKH,OAOAI,GAAgB,WAAoB,IACzCnQ,EAjEkB,SAACoQ,GACzB,IAAMC,EAAgBC,KAAYd,UAAU,CAC1Ce,eAAgBH,EAChBI,aAAc,EACdC,QAAS,CAAC,SAAU,WACnB,CAAEC,YAAa,UAClB,SAAA9K,OAAUqC,GAAV,WAAArC,OAA4ByK,GA2DhBM,CADmClS,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,GAEzC,OAAOmP,GAAU5N,IAGN4Q,GAAY,SAACzM,GACxB,IAAMnE,EA7DmB,SAACmE,GAC1B,IAAMkM,EAAgBC,KAAYd,UAAU,CAC1CiB,QAAS,CAAC,SAAU,WACnB,CAAEC,YAAa,UAClB,SAAA9K,OAAUqC,GAAV,WAAArC,OAA4BzB,EAA5B,KAAAyB,OAAsCyK,GAyD1BQ,CAAmB1M,GAC/B,OAAOyJ,GAAU5N,ICvEb8Q,GACJ,SAAAA,EAAYC,GAAU,IAAAC,EAAAhC,KAAAlQ,OAAAmS,GAAA,EAAAnS,CAAAkQ,KAAA8B,GAAA9B,KAKtBhO,YAAc,GALQgO,KAQtBkC,SAAW,WACTF,EAAKhQ,YAAc,CACjB0L,KAAM,OACNrM,MAAO,OACP5C,KAAM0T,aAAYhB,QAZAnB,KAgBtBoC,SAAW,SAACjN,GACV6M,EAAKhQ,YAAc,CACjB0L,KAAM,YACNvI,SACA9D,MAAK,SAAAuF,OAAWzB,GAChB1G,KAAM0T,aAAYP,GAAUzM,MArBV6K,KAyBtBqC,UAAY,WAAsC,IAArC1E,EAAqClO,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA3B,uBACrBuS,EAAKhQ,YAAc,CACjB0L,KAAM,QACNC,YA5BkBqC,KAiCtBsC,WAAaC,aACX,WACE,OAAIP,EAAKhQ,YAAYvD,MACoB,cAAhCuT,EAAKhQ,YAAYvD,KAAKmP,MACzBoE,EAAKD,SAAStT,KAAK+T,QAAQR,EAAKhQ,YAAYvD,KAAKuH,OAGhD,OAvCTgK,KAAK+B,SAAWA,GA4CpBU,aAASX,GAAW,CAClB9P,YAAa0Q,KACbR,SAAUS,KACVP,SAAUO,KACVN,UAAWM,OAGEb,oBCrDTc,GACJ,SAAAA,EAAYb,GAAU,IAAAC,EAAAhC,KAAAlQ,OAAAmS,GAAA,EAAAnS,CAAAkQ,KAAA4C,GAAA5C,KAatB6C,SAAW,GAbW7C,KAgBtB8C,oBAAsB,WAAM,IAAAC,EAC0BhK,GAAOG,QAAnDE,EADkB2J,EAClB3J,mBAAoBC,EADF0J,EACE1J,oBACtB2J,EAAahB,EAAKa,SAASrL,MAAM,KAAKC,MAAM,GAFxBwL,EAGgBjB,EAAKD,SAASxT,KAAhD2T,EAHkBe,EAGlBf,SAAUE,EAHQa,EAGRb,SAAUC,EAHFY,EAGEZ,UACtBa,EAAW,SAACC,EAAaC,GAAd,OACfJ,EAAWtT,SAAWyT,EAClBC,IACAf,EAAUW,EAAWtT,OAASyT,EAAc/J,EAAqBC,IAGvE,OADa2J,EAAW,IAEtB,IAAK,GACHE,EAAS,EAAG,kBAAMhB,MAClB,MACF,IAAK,OACHgB,EAAS,EAAG,kBAAMd,EAASY,EAAW,MACtC,MACF,QACEX,EAAU,gCAlCMrC,KAuCtBlF,KAAO,WAAiB,IAAhBuI,EAAgB5T,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAR,IACduS,EAAKsB,QAAQC,KAAKF,IAxCErD,KA2CtBwD,YAAc,SAACX,GACbb,EAAKa,SAAWA,EAChBb,EAAKc,uBA5CL9C,KAAK+B,SAAWA,EAChB/B,KAAKsD,QAAUG,aAAqB,CAClCC,SAAUC,cACVC,cAAc,IAEhB5D,KAAKwD,YAAYxD,KAAKsD,QAAQO,SAAShB,UACvC7C,KAAKsD,QAAQQ,OAAO,SAACD,GACnB7B,EAAKwB,YAAYK,EAAShB,aA0ChCJ,aAASG,GAAa,CACpBC,SAAUH,KACV5H,KAAM6H,KACNa,YAAab,KACbG,oBAAqBH,OAGRC,wCC3DTmB,cACJ,SAAAA,EAAYhC,GAAU,IAAAC,EAAAhC,KAAAlQ,OAAAmS,GAAA,EAAAnS,CAAAkQ,KAAA+D,GAAA/D,KAKtBgE,QAAU,GALYhE,KAyBtBwC,QAAU,SAAC/T,GACTuT,EAAKgC,QAAUvV,GA1BKuR,KA8BtBiE,kBAAoB,SAAA3T,GAAI,OACtB0R,EAAKkC,eAAe5T,GAChBR,OAAOqU,OAAOnC,EAAKkC,eAAe5T,IAClC,IAjCgB0P,KAoCtBtF,YAAc,SAAA3E,GAAE,OAAIiM,EAAKkC,eAAe1J,MAAMzE,IApCxBiK,KAsCtBoE,UAAY,SAAA3J,GAAI,OAAIA,EAAK1E,IAtCHiK,KAwCtBhF,aAAe,SAAAP,GAAI,OAAIA,EAAKwG,WAAW5P,OAxCjB2O,KA0CtB/E,cAAgB,SAACR,GAAS,IAAA4J,EACHrC,EAAKsC,wBAAwB7J,EAAM,UAAhDnK,EADgB+T,EAChB/T,KAAMyF,EADUsO,EACVtO,GACd,OAAOiM,EAAKuC,wBAAwB,CAAEjU,OAAMyF,KAAIyO,UAAW,UA5CvCxE,KA+CtBrF,cAAgB,SAACF,GAEf,OADmBuH,EAAKsC,wBAAwB7J,EAAM,UACpC7B,IAAI,SAAA5K,GAAA,IAAGsC,EAAHtC,EAAGsC,KAAMyF,EAAT/H,EAAS+H,GAAT,OAAkBiM,EAAKuC,wBAAwB,CAAEjU,OAAMyF,KAAIyO,UAAW,WAjDxExE,KAoDtBsE,wBAA0B,SAAC7J,EAAMgK,GAAP,OAAwBhK,EAAKiK,cAAcD,GAAchW,MApD7DuR,KAsDtBuE,wBAA0B,SAAA5R,GAAA,IAAGrC,EAAHqC,EAAGrC,KAAMyF,EAATpD,EAASoD,GAAIyO,EAAb7R,EAAa6R,UAAb,OACxBxC,EAAKkC,eAAe5T,GAAMyF,GAAIkL,WAAWuD,IAtDzCxE,KAAK+B,SAAWA,8DAQhB,OAAO/B,KAAKgE,QAAUW,KAAU3E,KAAKgE,SAAW,iCAGtC,IAAAY,EAAA5E,KACV,OAAOA,KAAKkE,eAAe1J,MACvBwF,KAAKiE,kBAAkB,SACtBrL,IAAI,SAAA6B,GAAI,MAAK,CACZ1E,GAAI6O,EAAKR,UAAU3J,GACnBpJ,MAAOuT,EAAK5J,aAAaP,GACzBrG,OAAQwQ,EAAK3J,cAAcR,GAC3Be,OAAQoJ,EAAKjK,cAAcF,MAE7B,YAsCRgI,aAASsB,GAAW,CAClBC,QAAStB,KACTwB,eAAgBW,KAChBrK,MAAOqK,KACPrC,QAASG,OAGIoB,UCtEExK,GAA0BR,GAAnCO,MAASC,uBCSbR,GADFU,SAAYC,0BAAqBC,wBAAmBC,4BAGhDkL,cACJ,SAAAA,EAAY/C,GAAU,IAAAC,EAAAhC,KAAAlQ,OAAAmS,GAAA,EAAAnS,CAAAkQ,KAAA8E,GAAA9E,KA4CtB+E,wBAA0BxC,aACxB,WACMP,EAAKgD,uBAA8D,aAArChD,EAAKgD,sBAAsBpH,OAC3DqH,WAAW,kBAAMjD,EAAKkD,yBAAyB,KAAK,KAElDlD,EAAKmD,mBACPF,WAAW,WAAM,IACPlP,EAAOiM,EAAKD,SAAStT,KAAK+L,MAAM,GAAhCzE,GACRiM,EAAKoD,mBACLpD,EAAKD,SAASxT,KAAK6T,SAASrM,IAC3B,OAtDaiK,KA4DtBoF,iBAAmB,WACjBpD,EAAK7L,aAAa,IAClB6L,EAAKqD,2BAA0B,GAC/BrD,EAAKkD,yBAAyB,KA9D9BlF,KAAK+B,SAAWA,EAChB/B,KAAKsF,eAAiB/C,aACpB,WAC8C,cAAxCP,EAAKD,SAASxT,KAAKyD,YAAY0L,MACjCsE,EAAKoD,4FA+DaG,GACxBvF,KAAKwF,uBAAyBD,mDAGPA,GACvBvF,KAAKgF,sBAAwBO,mCAGtBpQ,GAEP,GADA6K,KAAKqF,2BAA0B,IAC1BrF,KAAKyF,gBAAiB,CACzB,IAAMxG,EAAWkD,aAAYrB,GAAa3L,EAAQ6K,KAAK/J,SACvD+J,KAAKkF,yBAAyBjG,yCAIrBsG,GACXvF,KAAK/J,OAASsP,EACdlQ,QAAQC,IAAI,gBAAiB0K,KAAK/J,gDA1ElC,ODpBWjF,ECoBGgP,KAAK/J,QDpBDsD,GAAoBmM,KAAK1U,GAAhC,IAAAA,kDCwBX,OAAOgP,KAAKyF,iBAAmBzF,KAAKwF,4DAIpC,OAAIxF,KAAKyF,gBACA/L,GAEgC,aAArCsG,KAAKgF,sBAAsBpH,MACtBjE,GAELqG,KAAKmF,kBACAvL,GAEF,6CAIP,SAAUoG,KAAKgF,uBAA8D,YAArChF,KAAKgF,sBAAsBpH,iDAInE,SAAUoC,KAAKgF,uBAA8D,cAArChF,KAAKgF,sBAAsBpH,4CAInE,OAAOoC,KAAK2F,yBAAgE,aAArC3F,KAAKgF,sBAAsBpH,eAiDtE6E,aAASqC,GAAkB,CACzB7O,OAAQyM,KACR8C,uBAAwB9C,KACxBsC,sBAAuBtC,KACvB+C,gBAAiBZ,KACjBxO,aAAcwO,KACdc,wBAAyBd,KACzBvO,kBAAmBuO,KACnB1O,aAAcwM,KACd0C,0BAA2B1C,KAC3BuC,yBAA0BvC,KAC1BjN,SAAUiN,KACVyC,iBAAkBzC,OAGLmC,UChHfc,aAAU,CAAEC,eAAgB,iBCDtB9D,GAAW,IDIf,SAAA+D,IAAehW,OAAAmS,GAAA,EAAAnS,CAAAkQ,KAAA8F,GACb9F,KAAKzR,KAAO,IAAIuT,GAAU9B,MAC1BA,KAAKxR,OAAS,IAAIoU,GAAY5C,MAC9BA,KAAKvR,KAAO,IAAIsV,GAAU/D,MAC1BA,KAAKtR,YAAc,IAAIoW,GAAiB9E,OCP5C+F,IAASC,OACP7X,EAAAC,EAAAC,cAAC4X,GAAD,CAAKhY,MAAO8T,KACZmE,SAASC,eAAe","file":"static/js/main.e2157c45.chunk.js","sourcesContent":["import React from 'react';\nimport { Provider as MobxProvider } from 'mobx-react';\nimport PropTypes from 'prop-types';\n\n// this component dictates which stores can be injected into app components\nconst StoreProvider = ({ store, children }) => (\n  <MobxProvider\n    view={store.view}\n    router={store.router}\n    data={store.data}\n    imgAddition={store.imgAddition}\n  >\n    {children}\n  </MobxProvider>\n);\n\nStoreProvider.propTypes = {\n  store: PropTypes.shape({\n    view: PropTypes.shape({}),\n    router: PropTypes.shape({}),\n    data: PropTypes.shape({}),\n  }).isRequired,\n  children: PropTypes.element.isRequired,\n};\n\nexport default StoreProvider;\n","import { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles';\nimport teal from '@material-ui/core/colors/teal';\nimport grey from '@material-ui/core/colors/grey';\nimport blue from '@material-ui/core/colors/blue';\n\nconst defaults = {\n  bodyColor: {\n    dark: grey.A400,\n    light: grey[50],\n  },\n  palette: {\n    primary: blue,\n    secondary: teal,\n    text: {\n      primary: grey[50],\n    },\n  },\n};\n\nconst getTheme = (overrides = {}) => responsiveFontSizes(createMuiTheme(\n  Object.assign(\n    {},\n    overrides,\n    defaults,\n    {\n      typography: {\n        useNextVariants: true,\n      },\n    },\n  ),\n));\n\nexport default getTheme;\n\n// setBodyColor(this.settings.bodyColor[this.settings.palette.type]);\n// this.settings.palette.type = this.settings.palette.type === 'light'\n//   ? 'dark'\n//   : 'light';\n","import React from 'react';\nimport { inject, observer } from 'mobx-react';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\n\nimport getTheme from '../../utils/theme';\n\nconst ThemeProvider = ({ view, children }) => (\n  <MuiThemeProvider theme={getTheme({\n    palette: {\n      type: view.lightThemeActive ? 'light' : 'dark',\n    },\n  })}\n  >\n    {children}\n  </MuiThemeProvider>\n);\n\nThemeProvider.propTypes = {\n  view: PropTypes.shape({\n    screenWidth: PropTypes.number,\n    lightThemeActive: PropTypes.bool,\n  }).isRequired,\n  children: PropTypes.element.isRequired,\n};\n\nexport default inject('view')(observer(ThemeProvider));\n","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst Github = () => (\n  <SvgIcon>\n    <path d=\"M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-6 0-1.2.5-2.3 1.3-3.1-.2-.4-.6-1.6 0-3.2 0 0 1-.3 3.4 1.2a11.5 11.5 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.2.9.8 1.3 1.9 1.3 3.2 0 4.6-2.8 5.6-5.5 5.9.5.4.9 1 .9 2.2v3.3c0 .3.1.7.8.6A12 12 0 0 0 12 .3\" />\n  </SvgIcon>\n);\n\nexport default Github;\n","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Github from '../Icons/Github';\nimport { navigateTo } from '../../utils/browser';\n\nconst GithubLinkButton = () => (\n  <IconButton\n    color=\"inherit\"\n    aria-label=\"go to github\"\n    onClick={() => navigateTo('https://github.com/OriLev/edge-books')}\n  >\n    <Github />\n  </IconButton>\n);\n\nexport default GithubLinkButton;\n","export const getScreenWidth = () => window.innerWidth;\n\nexport const setBodyColor = (color) => {\n  document.body.style.background = color;\n};\n\nexport const navigateTo = (url) => {\n  window.open(url);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = theme => ({\n  title: Object.assign({}, theme.mixins.gutters(), {\n    flex: '1 1 auto',\n  }),\n});\n\nconst Title = ({ classes, title }) => (\n  <Typography\n    className={classes.title}\n    variant=\"h6\"\n    color=\"inherit\"\n    noWrap\n  >\n    {title}\n  </Typography>\n);\n\nTitle.propTypes = {\n  classes: PropTypes.shape({\n    screenWidth: PropTypes.number,\n    lightThemeActive: PropTypes.bool,\n  }).isRequired,\n  title: PropTypes.string.isRequired,\n};\n\nexport default withStyles(styles)(Title);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { inject, observer } from 'mobx-react';\nimport GithubLinkButton from './GithubLinkButton';\nimport Title from './Title';\n\nconst Toolbar = ({ view }) => (\n  <>\n    <Title title={view.currentPage.title} />\n    <GithubLinkButton />\n  </>\n);\n\nToolbar.propTypes = {\n  view: PropTypes.shape({}).isRequired,\n};\n\nexport default inject('view')(observer(Toolbar));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { inject } from 'mobx-react';\nimport { withStyles } from '@material-ui/core/styles';\nimport EventListener from 'react-event-listener';\n\nconst styles = () => ({\n  wrapper: {\n    zIndex: 1,\n    height: '100vh',\n    overflow: 'auto',\n    position: 'relative',\n    width: '100%',\n  },\n});\n\nconst StyledWrapper = withStyles(styles)(({ classes, ...rest }) => (\n  <div className={classes.wrapper} {...rest} />\n));\n\nconst Wrapper = ({ children, view }) => (\n  <StyledWrapper>\n    {children}\n    <EventListener target=\"window\" onResize={view.onScreenResize} />\n  </StyledWrapper>\n);\n\nWrapper.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.array]).isRequired,\n  view: PropTypes.shape({}).isRequired,\n};\n\nexport default inject('view')(Wrapper);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport MuiAppBar from '@material-ui/core/AppBar';\nimport MuiToolbar from '@material-ui/core/Toolbar';\n\nconst styles = () => ({\n  appBar: {\n    right: 0,\n    left: 'auto',\n    position: 'absolute',\n    // [theme.breakpoints.up('md')]: {\n    //   width: `calc(100% - ${theme.drawerWidth}px)`,\n    // },\n  },\n});\n\nconst Bar = ({ classes, children }) => (\n  <MuiAppBar className={classes.appBar}>\n    <MuiToolbar>\n      {children}\n    </MuiToolbar>\n  </MuiAppBar>\n);\n\nBar.propTypes = {\n  classes: PropTypes.shape({}).isRequired,\n  children: PropTypes.element.isRequired,\n};\n\nexport default withStyles(styles)(Bar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  toolbar: theme.mixins.toolbar,\n  content: Object.assign({}, theme.mixins.gutters(), {\n    backgroundColor: theme.palette.background.default,\n  }),\n});\n\nconst Content = ({ classes, children, disableGutters }) => (\n  <main className={!disableGutters && classes.content}>\n    <div className={classes.toolbar} />\n    {children}\n  </main>\n);\n\nContent.defaultProps = {\n  disableGutters: false,\n};\n\nContent.propTypes = {\n  disableGutters: PropTypes.bool,\n  children: PropTypes.element.isRequired,\n  classes: PropTypes.shape({}).isRequired,\n};\n\nexport default withStyles(styles)(Content);\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport PropTypes from 'prop-types';\n\nconst styles = theme => ({\n  container: {\n    padding: theme.spacing(2),\n    minHeight: '140px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-around',\n  },\n\n});\n\nconst BookHeader = ({\n  classes, title, author,\n}) => (\n  <Container className={classes.container}>\n    <Typography variant=\"h3\" color=\"textSecondary\">{title}</Typography>\n    <Typography variant=\"body2\" color=\"textSecondary\">by</Typography>\n    <Typography variant=\"h5\" color=\"textSecondary\">{author}</Typography>\n  </Container>\n);\n\n\nBookHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n  author: PropTypes.string.isRequired,\n  classes: PropTypes.shape({}).isRequired,\n};\n\nexport default withStyles(styles)(BookHeader);\n","import React from 'react';\nimport { styled } from '@material-ui/styles';\nimport PropTypes from 'prop-types';\nimport { observer, inject } from 'mobx-react';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Input from '@material-ui/core/Input';\nimport Typography from '@material-ui/core/Typography';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst ImgURLInput = styled(Input)({\n  color: 'black',\n  cursor: 'pointer',\n});\n\nconst StyledForm = styled('form')({\n  display: 'flex',\n  flexDirection: 'row',\n  width: '80%',\n  minHeight: '100px',\n});\n\nconst StyledFormControl = styled(FormControl)({\n  flex: '1 0 auto',\n  maxWidth: 'calc(100% - 108px)',\n});\n\nconst StyledButton = styled(Button)({\n  minWidth: '108px',\n  marginTop: '16px',\n  minHeight: '36px',\n  maxHeight: '36px',\n});\n\nconst ImgAdditionForm = ({ bookId, imgAddition: formState }) => {\n  const handleChange = (e) => {\n    console.log('input.value: ', e.target.value);\n    formState.updateImgURL(e.target.value);\n  };\n  const onSubmit = (e) => {\n    e.preventDefault();\n    formState.addImage(bookId);\n  };\n  console.log('rendered');\n  return (\n    <StyledForm onSubmit={onSubmit}>\n      <StyledFormControl error={formState.isErrorState}>\n        <InputLabel htmlFor=\"image-url-input\">Image URL</InputLabel>\n        <ImgURLInput\n          id=\"image-url-input\"\n          value={formState.imgURL}\n          onChange={handleChange}\n          type=\"text\"\n        />\n        {\n          formState.isErrorState\n            ? <FormHelperText id=\"component-error-text\">{formState.errorMessage}</FormHelperText>\n            : null\n        }\n      </StyledFormControl>\n      <StyledButton color=\"secondary\" type=\"submit\">\n        {\n          formState.postingInProgress\n            ? <CircularProgress size={20} />\n            : <Typography>Add Image</Typography>\n        }\n      </StyledButton>\n    </StyledForm>\n  );\n};\n\n\nImgAdditionForm.propTypes = {\n  bookId: PropTypes.string.isRequired,\n  imgAddition: PropTypes.shape({}).isRequired,\n};\n\nexport default inject('imgAddition')(observer(ImgAdditionForm));\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Fab from '@material-ui/core/Fab';\nimport ArrowLeft from '@material-ui/icons/ArrowBack';\nimport PropTypes from 'prop-types';\n\nconst styles = theme => ({\n  backButton: {\n    position: 'absolute',\n    left: theme.spacing(2),\n    top: theme.spacing(2),\n    transitionDelay: `${theme.transitions.duration.leavingScreen}ms`,\n  },\n});\n\nconst BackButton = ({\n  classes, goBack,\n}) => {\n  const fab = {\n    color: 'secondary',\n    className: classes.backButton,\n    icon: <ArrowLeft />,\n    label: 'Go back to Book List',\n  };\n  return (\n    <Fab\n      aria-label={fab.label}\n      className={fab.className}\n      color={fab.color}\n      onClick={() => goBack('/')}\n      title=\"Back to Book List\"\n    >\n      {fab.icon}\n    </Fab>\n  );\n};\n\nBackButton.propTypes = {\n  goBack: PropTypes.func.isRequired,\n  classes: PropTypes.shape({}).isRequired,\n};\n\nexport default withStyles(styles)(BackButton);\n","export const capitalize = (string = '') => {\n  if (typeof string !== 'string') {\n    console.warn(`capitalize: cannot capitalize ${typeof string}`);\n    return false;\n  }\n  const result = string.charAt(0).toUpperCase() + string.slice(1);\n  return result;\n};\n\nexport default {\n  capitalize,\n};\n\nexport const replaceImg = (imgURL) => {\n  const imageId = imgURL.split('?')[1].split('').slice(0, 2).join('');\n  return `https://picsum.photos/id/${imageId}/300/400`;\n};\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport ListSubheader from '@material-ui/core/ListSubheader';\n// import Typography from '@material-ui/core/Typography';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\nimport PropTypes from 'prop-types';\nimport { replaceImg } from '../../utils/text';\n\nconst styles = theme => ({\n  container: {\n    marginTop: theme.spacing(1),\n    paddingBottom: theme.spacing(2),\n  },\n  gridList: {\n    width: '100%',\n  },\n  subHeader: {\n    textAlign: 'left',\n    fontSize: '1.5rem',\n    fontStyle: 'italic',\n  },\n});\n\nconst ImagesGrid = ({ classes, images, width }) => {\n  const getGridListCols = () => {\n    if (isWidthUp('xl', width)) {\n      return 4;\n    }\n\n    if (isWidthUp('lg', width)) {\n      return 3;\n    }\n\n    if (isWidthUp('md', width)) {\n      return 2;\n    }\n\n    return 1;\n  };\n\n  return (\n    <Container className={classes.container}>\n      <GridList\n        cellHeight=\"auto\"\n        spacing={16}\n        className={classes.gridList}\n        cols={getGridListCols()}\n      >\n        <GridListTile key=\"Subheader\" disableGutters style={{ height: 'auto', width: '100%' }}>\n          <ListSubheader className={classes.subHeader} component=\"h4\">Images:</ListSubheader>\n          {/* <Typography className={classes.subHeader} color=\"textSecondary\"\n          variant=\"h4\" component=\"h4\">Images:</Typography> */}\n        </GridListTile>\n        {images.map(imgURL => (\n          <GridListTile key={imgURL} cols={1}>\n            <img src={replaceImg(imgURL)} alt={imgURL} />\n            {/* <img src={imgURL} alt={imgURL} /> */}\n          </GridListTile>\n        ))}\n      </GridList>\n    </Container>\n  );\n};\n\nImagesGrid.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.string).isRequired,\n  classes: PropTypes.shape({}).isRequired,\n  width: PropTypes.string.isRequired,\n};\n\nexport default withStyles(styles)(withWidth()(ImagesGrid));\n","const CONSTS = {\n  API: {\n    BASE_URL: 'https://jsonapiplayground.reyesoft.com/v2',\n  },\n  ROUTING: {\n    SINGLE_BOOK_ROUTE: '/book',\n    MISSING_PARAMS_MSG: 'Illegal Route (parameters missing)',\n    TOO_MANY_PARAMS_MSG: 'Illegal Route (too many parameters)',\n  },\n  REGEX: {\n    URL_VALIDATION_REGX: new RegExp('^(https?:\\\\/\\\\/)?((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*(\\\\?[;&a-z\\\\d%_.~+=-]*)?(\\\\#[-a-z\\\\d_]*)?$', 'i'),\n  },\n  MESSAGES: {\n    INVALID_URL_MESSAGE: 'Please insert a valid URL',\n    POST_IMAGE_FAILED: 'Adding the image failed, try again later',\n    POST_IMAGE_SUCCESSFUL: 'Image posted successfully',\n    NO_IMAGES_FOR_THIS_BOOK: 'There are no images for this book... wanna add some? :)',\n  },\n};\n\nexport default CONSTS;\n","import { observer, inject } from 'mobx-react';\nimport React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Container, Typography, Paper } from '@material-ui/core';\nimport PropTypes from 'prop-types';\n\nimport Header from './Header';\nimport ImgAdditionForm from './ImgAdditionForm';\nimport BackButton from './BackButton';\nimport ImagesGrid from './ImagesGrid';\n\nimport CONSTS from '../../consts';\n\nconst {\n  MESSAGES: { NO_IMAGES_FOR_THIS_BOOK },\n} = CONSTS;\n\nconst styles = theme => ({\n  bookContainer: {\n    paddingTop: theme.spacing(8),\n    paddingRight: theme.spacing(2),\n    paddingLeft: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    minWidth: '80%',\n    minHeight: '80vh',\n    margin: '10px auto auto',\n    overflow: 'auto',\n    border: 'solid 1px rgba(0, 0, 0, 0.1)',\n    borderRadius: '15px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    position: 'relative',\n    textAlign: 'center',\n    zIndex: 50,\n  },\n});\n\nconst NoImages = () => (\n  <Container>\n    <Typography variant=\"h4\" color=\"primary\">\n      {NO_IMAGES_FOR_THIS_BOOK}\n    </Typography>\n  </Container>\n);\n\nconst BookPage = ({\n  classes, data, router, bookId,\n}) => {\n  if (data.books.length > 0) {\n    const book = data.getBookById(bookId);\n    const images = data.getBookPhotos(book);\n    return (\n      <Paper className={classes.bookContainer} component=\"div\">\n        <BackButton goBack={router.goTo} />\n        <Header title={data.getBookTitle(book)} author={data.getBookAuthor(book)} />\n        <ImgAdditionForm bookId={bookId} />\n        {\n          images.length > 0\n            ? <ImagesGrid images={images} />\n            : <NoImages />\n        }\n      </Paper>\n    );\n  }\n  return null;\n};\n\nBookPage.propTypes = {\n  bookId: PropTypes.string.isRequired,\n  data: PropTypes.shape({}).isRequired,\n  router: PropTypes.shape({}).isRequired,\n  classes: PropTypes.shape({}).isRequired,\n};\n\nexport default inject('data', 'router')(withStyles(styles)(observer(BookPage)));\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport PropTypes from 'prop-types';\n\nimport { replaceImg } from '../../utils/text';\n\nconst styles = theme => ({\n  card: {\n    maxWidth: 345,\n    margin: 'auto',\n    height: 400,\n    overflow: 'hidden',\n    border: 'solid 1px rgba(0, 0, 0, 0.1)',\n    borderRadius: '15px',\n    display: 'flex',\n    position: 'relative',\n    zIndex: 50,\n    textDecoration: 'none',\n    cursor: 'pointer',\n    '&:hover': {\n      borderColor: 'rgba(0, 0, 0, 0.3)',\n    },\n  },\n  media: {\n    height: 400,\n    width: '100%',\n    position: 'absolute',\n    zIndex: 100,\n    '&>div': {\n      background: 'rgba(0, 0, 0, 0.4)',\n    },\n  },\n  content: {\n    zIndex: 5,\n    width: '100%',\n    boxSizing: 'border-box',\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, 0.3)',\n    },\n  },\n  additionalImages: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '30px',\n    height: '30px',\n    borderRadius: '50%',\n    backgroundColor: theme.palette.grey[400],\n    position: 'absolute',\n    right: '20px',\n    bottom: '20px',\n  },\n});\n\nconst BookCard = ({ book, ...rest }) => (\n  book.photos.length > 0\n    ? <MediaCard {...rest} book={book} />\n    : <PlainCard {...rest} book={book} />\n);\n\nconst Content = ({ classes, book, variant }) => (\n  <CardContent className={classes.content}>\n    <Typography gutterBottom align=\"center\" variant=\"h5\" component=\"h5\" color={variant === 'media' ? 'textPrimary' : 'textSecondary'}>\n      {book.title}\n    </Typography>\n    <Typography gutterBottom variant=\"body1\" component=\"p\" color={variant === 'media' ? 'textPrimary' : 'textSecondary'}>\n      {book.author}\n    </Typography>\n    {\n        book.photos.length > 1\n          ? <span className={classes.additionalImages}>{`+${book.photos.length - 1}`}</span>\n          : null\n    }\n  </CardContent>\n);\n\nconst PlainCard = ({\n  classes, book, component, onClick,\n}) => (\n  <Card className={classes.card} component={component} onClick={onClick}>\n    <Content book={book} classes={classes} variant=\"plain\" />\n  </Card>\n);\n\nconst MediaCard = ({\n  classes, book, component, onClick,\n}) => {\n  const newImage = replaceImg(book.photos[0]);\n  return (\n    <Card className={classes.card} component={component} onClick={onClick}>\n      <CardMedia\n        className={classes.media}\n        image={newImage}\n        title={book.title}\n      >\n        <Content classes={classes} book={book} variant=\"media\" />\n      </CardMedia>\n    </Card>\n  );\n};\n\nBookCard.propTypes = {\n  book: PropTypes.shape({}).isRequired,\n};\n\nPlainCard.propTypes = {\n  book: PropTypes.shape({}).isRequired,\n  classes: PropTypes.shape({}).isRequired,\n  component: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nMediaCard.propTypes = {\n  book: PropTypes.shape({}).isRequired,\n  classes: PropTypes.shape({}).isRequired,\n  component: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nContent.propTypes = {\n  book: PropTypes.shape({}).isRequired,\n  classes: PropTypes.shape({}).isRequired,\n  variant: PropTypes.string.isRequired,\n};\n\nexport default withStyles(styles)(BookCard);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { observer, inject } from 'mobx-react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport BookCard from '../BookCard';\nimport CONSTS from '../../consts';\n\nconst { SINGLE_BOOK_ROUTE } = CONSTS.ROUTING;\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: `${theme.spacing(2)}px`,\n    margin: 'auto',\n    maxWidth: 1300,\n  },\n  container: {\n    listStyle: 'none',\n  },\n});\n\nconst BookList = ({ data, router, classes }) => (\n  <div className={classes.root}>\n    <Paper className={classes.paper}>\n      <Grid container spacing={8} className={classes.container} component=\"ul\">\n        {data.books.map(book => (\n          <Grid key={book.id} item lg={4} md={6} xs={12} component=\"li\">\n            <BookCard book={book} component=\"a\" role=\"button\" onClick={() => router.goTo(`${SINGLE_BOOK_ROUTE}/${book.id}`)} />\n          </Grid>\n        ))}\n      </Grid>\n    </Paper>\n  </div>\n);\n\nBookList.propTypes = {\n  data: PropTypes.shape({}).isRequired,\n  router: PropTypes.shape({}).isRequired,\n  classes: PropTypes.shape({}).isRequired,\n};\n\nexport default inject('data', 'router')(withStyles(styles)(observer(BookList)));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { observer, inject } from 'mobx-react';\nimport BookPage from '../BookPage';\nimport BookList from '../BookList';\n\n\nconst getCurrentView = (view) => {\n  const { name, data, message } = view.currentPage;\n  if (data) {\n    if (data.state === 'pending') {\n      return <span>Loading</span>;\n    }\n    if (data.state === 'rejected') {\n      return <span>Something went wrong... your data could not be fetched</span>;\n    }\n  }\n  switch (name) {\n    case 'Home':\n      return <BookList />;\n    case 'Book page':\n      return <BookPage bookId={view.currentPage.bookId} />;\n    default:\n      return <span>{message}</span>;\n  }\n};\n\nconst Body = ({ view }) => (\n  <>\n    {\n      getCurrentView(view)\n    }\n  </>\n);\n\nBody.propTypes = {\n  view: PropTypes.shape({}).isRequired,\n};\n\nexport default inject('view')(observer(Body));\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport StoreProvider from './StoreProvider';\nimport Theme from './Theme';\nimport Toolbar from './Toolbar';\nimport { Wrapper, Bar, Content } from './Layout';\nimport Body from './Body';\n\nconst App = ({ store }) => (\n  <StoreProvider store={store}>\n    <>\n      <Theme>\n        <Wrapper>\n          <Bar><Toolbar /></Bar>\n          <Content>\n            <Body />\n          </Content>\n        </Wrapper>\n      </Theme>\n    </>\n  </StoreProvider>\n);\n\nApp.propTypes = {\n  store: PropTypes.shape({}).isRequired,\n};\nexport default App;\n","import queryString from 'query-string';\n\nimport CONSTS from '../consts';\n\nconst { BASE_URL } = CONSTS.API;\n\nconst buildBooksListURL = (pageNumber) => {\n  const bookListQuery = queryString.stringify({\n    'page[number]': pageNumber,\n    'page[size]': 5,\n    include: ['author', 'photos'],\n  }, { arrayFormat: 'comma' });\n  return `${BASE_URL}/books?${bookListQuery}`;\n};\n\nconst buildSingleBookURL = (bookId) => {\n  const bookListQuery = queryString.stringify({\n    include: ['author', 'photos'],\n  }, { arrayFormat: 'comma' });\n  return `${BASE_URL}/books/${bookId}?${bookListQuery}`;\n};\n\nconst buildPostImageURL = bookId => `${BASE_URL}/books/${bookId}/relationships/photos`;\n\nconst fetchData = async (url) => {\n  try {\n    const response = await fetch(url);\n    if (response.ok) {\n      return await response.json();\n    }\n    throw (new Error('Your data could not be fetched'));\n  } catch (error) {\n    throw error;\n  }\n};\n\nconst postData = async (url, data) => {\n  const options = {\n    method: 'POST',\n    body: JSON.stringify(data),\n    mode: 'no-cors',\n    headers: {\n      'Content-Type': 'application/vnd.api+json',\n    },\n  };\n  try {\n    const response = await fetch(url, options);\n    if (response.ok) {\n      return await response.json();\n    }\n    throw (new Error('Your data could not be posted'));\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const postNewImage = (bookId, imageURL) => {\n  const url = buildPostImageURL(bookId);\n  const data = {\n    data: {\n      type: 'photos',\n      attributes: {\n        title: 'something',\n        uri: imageURL,\n      },\n    },\n  };\n  return postData(url, data);\n};\n\nexport const fecthBookList = (pageNumber = 1) => {\n  const url = buildBooksListURL(pageNumber);\n  return fetchData(url);\n};\n\nexport const fetchBook = (bookId) => {\n  const url = buildSingleBookURL(bookId);\n  return fetchData(url);\n};\n","import {\n  decorate, observable, action, autorun,\n} from 'mobx';\nimport { fromPromise } from 'mobx-utils';\nimport { fecthBookList, fetchBook } from '../utils/api';\n\nclass ViewStore {\n  constructor(appStore) {\n    this.appStore = appStore;\n  }\n\n  // OBSERVABLES................................................................\n  currentPage = {};\n\n  // ACTIONS....................................................................\n  showHome = () => {\n    this.currentPage = {\n      name: 'Home',\n      title: 'Home',\n      data: fromPromise(fecthBookList()),\n    };\n  };\n\n  showBook = (bookId) => {\n    this.currentPage = {\n      name: 'Book page',\n      bookId,\n      title: `Book #${bookId}`,\n      data: fromPromise(fetchBook(bookId)),\n    };\n  };\n\n  showError = (message = 'Something went wrong') => {\n    this.currentPage = {\n      name: 'error',\n      message,\n    };\n  };\n\n  // AUTORUNS....................................................................\n  updateData = autorun(\n    () => {\n      if (this.currentPage.data) {\n        return this.currentPage.data.state === 'fulfilled'\n          ? this.appStore.data.setData(this.currentPage.data.value)\n          : null;\n      }\n      return null;\n    },\n  )\n}\n\ndecorate(ViewStore, {\n  currentPage: observable,\n  showHome: action,\n  showBook: action,\n  showError: action,\n});\n\nexport default ViewStore;\n","import {\n  decorate, observable, action,\n} from 'mobx';\nimport { createBrowserHistory } from 'history';\nimport CONSTS from '../consts';\n\nclass RouterStore {\n  constructor(appStore) {\n    this.appStore = appStore;\n    this.history = createBrowserHistory({\n      basename: process.env.PUBLIC_URL,\n      forceRefresh: false,\n    });\n    this.setPathname(this.history.location.pathname);\n    this.history.listen((location) => {\n      this.setPathname(location.pathname);\n    });\n  }\n\n  // OBSERVABLES................................................................\n  pathname = '';\n\n  // COMPUTEDS..................................................................\n  convertRouteToState = () => {\n    const { MISSING_PARAMS_MSG, TOO_MANY_PARAMS_MSG } = CONSTS.ROUTING;\n    const pageParams = this.pathname.split('/').slice(1);\n    const { showHome, showBook, showError } = this.appStore.view;\n    const showView = (legalLength, displayFunc) => (\n      pageParams.length === legalLength\n        ? displayFunc()\n        : showError(pageParams.length < legalLength ? MISSING_PARAMS_MSG : TOO_MANY_PARAMS_MSG)\n    );\n    const page = pageParams[0];\n    switch (page) {\n      case '':\n        showView(1, () => showHome());\n        break;\n      case 'book':\n        showView(2, () => showBook(pageParams[1]));\n        break;\n      default:\n        showError('404 - route does not exist');\n    }\n  }\n\n  // ACTIONS....................................................................\n  goTo = (route = '/') => {\n    this.history.push(route);\n  }\n\n  setPathname = (pathname) => {\n    this.pathname = pathname;\n    this.convertRouteToState();\n  }\n}\n\n\ndecorate(RouterStore, {\n  pathname: observable,\n  goTo: action,\n  setPathname: action,\n  convertRouteToState: action,\n});\n\nexport default RouterStore;\n","import {\n  decorate, observable, action, computed,\n} from 'mobx';\nimport normalize from 'json-api-normalizer';\n\nclass DataStore {\n  constructor(appStore) {\n    this.appStore = appStore;\n  }\n\n  // OBSERVABLES................................................................\n  rawData = {};\n\n  // COMPUTEDS..................................................................\n  get normalizedData() {\n    return this.rawData ? normalize(this.rawData) : {};\n  }\n\n  get books() {\n    return this.normalizedData.books\n      ? this.getDataCollection('books')\n        .map(book => ({\n          id: this.getBookId(book),\n          title: this.getBookTitle(book),\n          author: this.getBookAuthor(book),\n          photos: this.getBookPhotos(book),\n        }))\n      : [];\n  }\n\n  // ACTIONS....................................................................\n  setData = (data) => {\n    this.rawData = data;\n  };\n\n  // HELPER METHODS.............................................................\n  getDataCollection = type => (\n    this.normalizedData[type]\n      ? Object.values(this.normalizedData[type])\n      : []\n  );\n\n  getBookById = id => this.normalizedData.books[id];\n\n  getBookId = book => book.id;\n\n  getBookTitle = book => book.attributes.title;\n\n  getBookAuthor = (book) => {\n    const { type, id } = this.getBookRelationshipData(book, 'author');\n    return this.getAttributeByIdAndType({ type, id, attribute: 'name' });\n  }\n\n  getBookPhotos = (book) => {\n    const photosData = this.getBookRelationshipData(book, 'photos');\n    return photosData.map(({ type, id }) => this.getAttributeByIdAndType({ type, id, attribute: 'uri' }));\n  }\n\n  getBookRelationshipData = (book, relationship) => book.relationships[relationship].data;\n\n  getAttributeByIdAndType = ({ type, id, attribute }) => (\n    this.normalizedData[type][id].attributes[attribute]\n  );\n}\n\ndecorate(DataStore, {\n  rawData: observable,\n  normalizedData: computed,\n  books: computed,\n  setData: action,\n});\n\nexport default DataStore;\n","import CONSTS from '../consts';\n\nconst { REGEX: { URL_VALIDATION_REGX } } = CONSTS;\n\n// export const isURL = url => URL_VALIDATION_REGX.test(url);\n\nexport default url => URL_VALIDATION_REGX.test(url);\n","import {\n  decorate, observable, action, computed, autorun,\n} from 'mobx';\nimport { fromPromise } from 'mobx-utils';\nimport isURL from '../utils/validators';\nimport { postNewImage } from '../utils/api';\n\nimport CONSTS from '../consts';\n\nconst {\n  MESSAGES: { INVALID_URL_MESSAGE, POST_IMAGE_FAILED, POST_IMAGE_SUCCESSFUL },\n} = CONSTS;\n\nclass ImgAdditionStore {\n  constructor(appStore) {\n    this.appStore = appStore;\n    this.resetFormState = autorun(\n      () => {\n        if (this.appStore.view.currentPage.name === 'Book page') {\n          this.resetObservables();\n        }\n      },\n    );\n  }\n\n  get isImgURLIllegal() {\n    return !isURL(this.imgURL);\n  }\n\n  get shouldShowURLInputError() {\n    return this.isImgURLIllegal && this.imageAdditionAttempted;\n  }\n\n  get errorMessage() {\n    if (this.isImgURLIllegal) {\n      return INVALID_URL_MESSAGE;\n    }\n    if (this.imageAdditionResponse.state === 'rejected') {\n      return POST_IMAGE_FAILED;\n    }\n    if (this.postingSuccessful) {\n      return POST_IMAGE_SUCCESSFUL;\n    }\n    return '';\n  }\n\n  get postingInProgress() {\n    return !!(this.imageAdditionResponse && this.imageAdditionResponse.state === 'pending');\n  }\n\n  get postingSuccessful() {\n    return !!(this.imageAdditionResponse && this.imageAdditionResponse.state === 'fulfilled');\n  }\n\n  get isErrorState() {\n    return this.shouldShowURLInputError || this.imageAdditionResponse.state === 'rejected';\n  }\n\n  resetImagePostingStatus = autorun(\n    () => {\n      if (this.imageAdditionResponse && this.imageAdditionResponse.state === 'rejected') {\n        setTimeout(() => this.setImageAdditionResponse({}), 300000);\n      }\n      if (this.postingSuccessful) {\n        setTimeout(() => {\n          const { id } = this.appStore.data.books[0];\n          this.resetObservables();\n          this.appStore.view.showBook(id);\n        }, 3000);\n      }\n    },\n  );\n\n\n  resetObservables = () => {\n    this.updateImgURL('');\n    this.setImageAdditionAttempted(false);\n    this.setImageAdditionResponse({});\n  }\n\n\n  // ACTIONS....................................................................\n  setImageAdditionAttempted(newValue) {\n    this.imageAdditionAttempted = newValue;\n  }\n\n  setImageAdditionResponse(newValue) {\n    this.imageAdditionResponse = newValue;\n  }\n\n  addImage(bookId) {\n    this.setImageAdditionAttempted(true);\n    if (!this.isImgURLIllegal) {\n      const response = fromPromise(postNewImage(bookId, this.imgURL));\n      this.setImageAdditionResponse(response);\n    }\n  }\n\n  updateImgURL(newValue) {\n    this.imgURL = newValue;\n    console.log('this.imgURL: ', this.imgURL);\n  }\n}\n\ndecorate(ImgAdditionStore, {\n  imgURL: observable,\n  imageAdditionAttempted: observable,\n  imageAdditionResponse: observable,\n  isImgURLIllegal: computed,\n  errorMessage: computed,\n  shouldShowURLInputError: computed,\n  postingInProgress: computed,\n  updateImgURL: action,\n  setImageAdditionAttempted: action,\n  setImageAdditionResponse: action,\n  addImage: action,\n  resetObservables: action,\n});\n\nexport default ImgAdditionStore;\n","import { configure } from 'mobx';\n\nimport ViewStore from './ViewStore';\nimport RouterStore from './RouterStore';\nimport DataStore from './DataStore';\nimport ImgAdditionStore from './ImgAdditionStore';\n\nconfigure({ enforceActions: 'observed' });\n\nexport default class AppStore {\n  constructor() {\n    this.view = new ViewStore(this);\n    this.router = new RouterStore(this);\n    this.data = new DataStore(this);\n    this.imgAddition = new ImgAdditionStore(this);\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './normalize.css';\nimport App from './components/App';\nimport AppStore from './stores/AppStore';\n\nconst appStore = new AppStore();\nReactDOM.render(\n  <App store={appStore} />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}